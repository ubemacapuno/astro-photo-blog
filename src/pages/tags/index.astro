---
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import Tag from "../../components/Tag.astro";

const pageTitle = "Tags";
const allPosts = await getCollection("blog");

// Get unique tags from all posts
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---

<BaseLayout {pageTitle}>
  <h2>Blog posts by Tag</h2>

  <div class="my-2">
    {tags.map((tag) => <Tag {tag} />)}
  </div>
</BaseLayout>
